---
tags: 
comment: true
---
## 单稳态触发器

### 基本概念

之前学的 $JK$ 以及 $D$ 触发器，本质上都是**双稳态触发器**

他们的状态相对是稳定的，如果没有外部输出一般不会变化。

> [!note]
> 而单稳态则是，如果此时状态为 $1$ ，过一段时间，他的状态自动变成 $0$

![image.png|350](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250929184142.png)

> [!note]
> 它的稳态可以是 $0$ 也可以是 $1$ 
> 
> 触发变换到**暂稳态**的可以是**正脉冲**，也可以是**负脉冲**

而暂稳态的时间长度是可以计算出来的。

分析的方法一般有三点：

1. 首先找到什么状态是**稳态**

2. 然后是找到由脉冲引起的从**稳态**跳变到**暂稳态**

3. 电路在 $RC$ （电容电路）的作用下，由于充放电，电路自动的由**暂稳态**回到**稳态**

4. 再根据 $RC$ ，将从变化再到变回来的这个时间长度计算出来。

### 门电路构成 - CMOS

门电路的种类可以是 $TTL$ 也可以是 $CMOS$

> [!note]
> $CMOS$ 电路更多是使用**或非门**，或非门是用**正脉冲**来触发到**暂稳态**
> 
> $TTL$ 电路更多是使用**与非门**，与非门是用**负脉冲**来触发到**暂稳态**

下面以 $CMOS$ 为例：

![image.png|500](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250929185220.png)

上面这个是**正脉冲触发**，

如何区分是什么脉冲触发呢？

对于**与非门**来说，输入的**稳态**是 $1$ ，则**输出**的稳态一定是 $0$ ，当输入从 $1$ 变换到 $0$ 的时候，稳态就被打破了，输出就从 $0$ 变成了 $1$

![image.png|325](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250930155337.png)

所以，与非门是要用**负脉冲**来触发

对于**或非门**来说，输入的稳态是 $0$ ，则**输出**的稳态一定是 $1$ ，当输入从 $0$ 变换到 $1$ 的时候，稳态就被打破了，输出就从 $1$ 变成了 $0$

![image.png|375](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250930155639.png)

所以，或非门是用**正脉冲**来触发

下面看 $RC$ 电路

![image.png](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250930160232.png)

> [!note]
> 上面的电路关键在于电容，如果稳态为 $0$ ，那么当电容左侧电压变为 $1$ 的时候，电容的左边和右边之间就会产生**电压差**，而随着电容的快速充电与放电，此**电压差**快速减少为 $0$ 。
> 
> 而当电容左侧的电压从 $1$ 变回 $0$ 的时候，同样受到电容的充放电影响，电容左边和右边就又会产生电压差。但注意，这时候的电压差是朝向**左边**的，所以在图上看上去就是负的。

> [!important]
> 由于上面的**稳态**是 $0$ ，所以它受到的是**正脉冲**的影响。
> 
> 而如果它的**稳态**是 $1$ ，那么它受到的是**负脉冲**的影响。

然后接着回来看整个触发器电路：

![image.png|575](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250930164953.png)

这里的第一个过程刚才已经分析过了， $V_{i}$ 是作为**外部输入**。

而 $V_{i1}$ 是电容处理的结果。

而 $V_{i 1}$ 在从 $0$ 变化到 $1$ 的**这个过程中**：（注意，下面这个过程都是发生在这个过程中！）

由于 $V_{i}$ 从 $0$ 变化到 $1$ ，导致 $V_{i 1}$ 也发生突变，从稳态 $0$ 变化到暂稳态 $1$ 。在这个过程中， $V_{o1}$ 受到**或非门的控制**（有 $1$ 为 $0$ ），导致 $V_{01}$ 也从稳态 $1$ 变化到暂稳态 $0$ 。

而接下来注意到在右侧电容 $C$ 的左边是 $V_{o1}$ ，右边是 $V_{i2}$ ，而 $V_{o1}$ 从 $1$ 变化到 $0$ ，尽管有电容的影响，但 $V_{i2}$ 还是会也从 $1$ 变化到 $0$ 。

再来看 $V_{o2}$ ，它受到 $V_{i 2}$ 的影响，当 $V_{i 2}$ 从 $1$ 变化到 $0$ 的过程中，由于**非门**的作用， $V_{o 2}$ 会从 $0$ 变化到 $1$ 。

而 $V_{o 2}$ 从 $0$ 变化到 $1$ ，又会反过来影响到 $V_{o 1}$ ，由于**或非门**的存在，它会继续让 $V_{o 1}$ 从 $1$ 变化到 $0$ 。

依次为一循环，实现**正反馈**

这样的结果就是导致 $V_{o1}$ 和 $V_{i2}$ **快速下降**， $V_{o 2}$ **快速上升**。（变化到**暂稳态**）

> [!note]
> 这里理解的关键是，这个正反馈是发生在 $V_{1}$ 突变的过程中，因为时间很快，导致 $V_{o1}$ 和 $V_{i2}$ 都是近乎突变。

然后是第三个过程：

上面的步骤变化的非常快，导致了他们在变化到暂稳态的时间非常短。

![image.png](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250930191619.png)

然后是要看右侧的电容，也就是左边是 $V_{o 1}$ 和右边是 $V_{i 2}$ 的电容。在 $V_{i 2}$ 这一端，由于 $V_{DD}$ 电源的影响，它的电压会持续增加。但是由于电容的充放电特性，它的变化比较慢。（注意，此时 $V_{i 2}$ 的电压是从**逻辑 $0$ 向逻辑 $1$ 增加** ）。

在这个增加的过程中，会有**临界值**。过了临界值之后，逻辑 $0$ 就变成了逻辑 $1$

> [!note]
> 一般来说，场效应的门槛是 $V_{th} = \frac{{V_{DD}}}{2}$ 。
> 
> 达到这个门槛，逻辑值就要从 $0$ 变化到 $1$ .

而当 $V_{i 2}$ 的电压达到**临界值**（ $\frac{V_{D D}}{2}$ ）的时候，它就变成逻辑 $1$ 了，这也就导致经过一个**非门**之后， $V_{o 2}$ 变成了逻辑 $0$ 。发生了**跳变**

当 $V_{o 2}$ 变成逻辑 $0$ 之后，而由于 $V_{i 1}$ 此时的逻辑值也为 $0$ ，经过**或非门**之后， $V_{o 1}$ 的逻辑值变成了 $1$ 。发生了**跳变**。

而 $V_{o 1}$ 发生跳变变成逻辑 $1$ 之后，又由于电容 $C$ 的**充放电特性**。会导致 $V_{i 2}$ 的电压再上升一个 $V_{DD}$ 的高度。意味着**电压值又增加**。

> [!note]
> 这里之所以电压会再增加一个 $V_{DD}$ ，没有太理解，先这样记。

但尽管 $V_{i 2}$ 的电压值再增加，他的逻辑值还是 $1$ 。

这里的 $V_{i2}$ 电压再增加，就会导致 $V_{o 2}$ 的变成 $0$ 的速度加快，进而导致 $V_{o 1}$ 由 $0$ 变成 $1$ 的进度加快。

而当 $V_{o 1}$ 变成 $1$ 之后，在电容 $C$ 的左边为 $1 = V_{DD}$ ，右边为 $\frac{3}{2}V_{DD}$ ，又由于电容的充放电性质，导致 $V_{i 2 }$ 又回到 $V_{DD}$ 。（当然，这些的变化都是逻辑 $1$ 的范畴 ）

![image.png|650](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250930195447.png)

而我们要求的便是 $V_{i 2}$ 从开始上升到跳变的这一段时间是多少。

![image.png|650](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250930195630.png)

这里有公式可以得到：

$$
f(*) = f(\infty) + [f(0^{+}) - f(\infty)]\cdot e^{- \frac{t}{\tau}}
$$
代入公式中得到：

$$
V_{i 2} = \frac{V_{DD}}{2}= V_{DD} + ( 0 - V_{DD}) \cdot e^{-\frac{tw}{RC}}
$$
进而求得：

$$
tw = RC  \cdot \ln 2 \approx 0.7RC
$$
其中， $RC$ 代表电容的大小。

> [!note]
> 
> 下面是一些注意事项。
> 
> 第一个：
> 
> 如果 $V_{i}$ 是一个**窄脉冲**（比 $tw$ 窄 ）那么就不需要加**微分电路**
> 
> 当然，如果不确定是**窄脉冲**还是**宽脉冲**，还是必须加上微分电路的。
> 
> 第二个：
> 
> 然后是 $V_{i 2}$ 的电压，这个电压在过程中出现了 $\frac{3}{2}V_{DD}$ 的情况，这就导致了可能会将**非门**冲击**坏**。
> 
> 解决方法是在此电阻上并联一个**二极管**
> 
> 起作用有：让 $V_{i 2}$ 的电压最大为 $V_{DD} + 0.7$ 
> 
> 另外一个作用是，在电压恢复的过程中，原本时间大概是 $3$ 到 $5$ 倍的 $\tau = RC$ ，并联上二极管之后，恢复的时间变快了
> 
> 第三个：
> 
> 会在输出的时候再接上一个**非门**，作用是在 $V_{o 2}$ 后面加非门，相当于对波形整形，输出更好
> 
> ![image.png|475](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250930201443.png)

此外，还有一种情况，那就是如果过段时间又来一个**触发**

这个时候会有一个问题，那就是如果再来一个触发的时间比较接近。 $V_{i 2}$ 还没有恢复到稳态，又来了一个**触发**。这样就会导致 $V_{i2}$ 不能突变到 $0$ 。会有一点**高度差**。

这样在后面再恢复的时候就不需要再用之前 $tw$ 那么长的时间了，他所用的时间就小于 $tw$ 。

所以触发进来的周期是由所限制的：

$$
T_{min} = tw + T_{re}
$$
$T_{re}$ 一般为 $3$ 到 $5$ 倍的 $RC$ 常数。（当然，加上二极管之后会稍微比这个时间短）

![image.png|650](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250930202305.png)

然后是 $TTL$ 门电路构成的单稳态触发器：

![image.png|650](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20250930202528.png)

这里主要的问题是电阻的大小问题。并且 $TTL$ 是用与非门来进行设计。要用**负脉冲**来**触发**。，

$$
R_{D} > 2k\Omega  \quad 形成逻辑1
$$
$$
R<0.7k\Omega\quad 形成逻辑0
$$

其他的分析与 $CMOS$ 的一样

与非门为 TTL，受到电阻大小影响，采用最多的是 CMOS 或非门，逻辑不受电阻大小影响

### 中规模集成电路构成

> [!note]
> 单稳态触发器：在稳态的状态下，外加一个触发信号，电路能够产生一定宽度的脉冲。
> 
> 稳态可以是 $0$ 也可以是 $1$ ，脉冲可以是**正脉冲**，也可以是**负脉冲**。

#### 区分是否重复触发

下面区分**不可重复触发**和**可以重复触发**：

![image.png](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20251002145201.png)

> [!note]
> **不可重复触发**意味着，在第一次触发之后，如果再来一个脉冲，不会受此脉冲的影响。
> 
> **可以重复触发**意味着，在第一次触发之后，如果再来一个脉冲，那么它的**暂稳态**就会在第一次触发的基础上延续。

#### 74121 不可重复触发

74121 有三个触发脉冲的端口。

如果要产生一个正脉冲响应，那么就应该得到：

![image.png|600](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20251002152807.png)

图中左侧为三个脉冲的**连接结构**，右侧为实现此功能的**功能表**。

> [!important]
> 触发进入暂稳态的两种情况：
> 
> 1. 当 $A_{1}$ 和 $A_{2}$ 两个输入中有一个或者两个为低电平，输入端 $B$ 出现由 $0$ 到 $1$ 的正向跳变。
> 
> 2. 若 $B$ 为高电平，输入端 $A_{1}$ 、 $A_{2}$ 中有一个或两个出现由 $1$ 到 $0$ 的负向跳变（不产生跳变的输入端必须保持为**高电平**）
> 
> 其中注意， $A_{1}$ 和 $A_{2}$ 为**低电平有效**

> [!note]
> 使用这样的结构，就能实现既可以使用**上升沿触发**，也可以使用**下降沿触发**

![image.png|650](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20251002153612.png)

### 典型的应用

#### 定时

![image.png|625](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20251002154551.png)

上面图中的 $DW$ 是单稳态电路。它受到负脉冲的影响，会产生一段**暂稳态**。

而与门的另一个输入是 $CP$ 脉冲。

将这两部分**与**在一起之后，就能得到定时的效果。

假如将暂稳态的时间控制在 $1s$ ，那么得到就是 $1s$ 内得到的**脉冲数**（这就是**频率**）

然后将**与**之后的脉冲接入**计数器**。实现定时的效果

#### 延时

这里的设计思路是，利用两个单稳态触发器。前一个在触发到**暂稳态**的时间就是要**延时**的时间长度。然后利用第一个暂稳态跳变到稳态的这个**下降沿**，再去触发第二个单稳态触发器，让他产生一个与输入**相同宽度**的**暂稳态**，就实现了延时的效果。

![image.png|575](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20251002161851.png)

#### 消除干扰

![image.png|625](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20251002162401.png)

可以发现，经过单稳态触发器之后，利用上面的这种连接方法将原来输入中的**毛刺**消除掉。

## 施密特触发器

这里的施密特触发器主要是用 $CMOS$ 来实现

主要原因在于 $CMOS$ 的**电压传输特性**比较好

此外， $CMOS$ 门电路有这样一个特性：在分析的时候，是没有经过门电路的电流的。

![image.png|600](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20251007144933.png)

这里我们主要关心的有三个点：

1. 输出电压 $v_{0}$ 是**高电平**还是**低电平**

2. 输入电压 $v_{i}$ 为多少的时候，输出电压会**翻转**（也就是**输入门槛**）

3. 更关心的是 $v_{A}$ ，什么时候 $v_{A} = \frac{v_{DD}}{2}$ ，也就是达到**非门的门槛**

一开始的时候， $v_{i}$ 为 $0$ ，而又由于 $R_{2}>R_{1}$ ，则 $v_{A}< \frac{1}{2}v_{DD}$ 故没有达到 $CMOS$ 门电路的**门槛**，所以 $v_{o}$ 保持为 $0$ 。

而随着 $v_{i}$ 的上升，（注意，在此过程中，在 $v_{A}$ 小于的时候，由于还没达到门电路的门槛，所以导致 $v_{o}$ 一直保持为 $0$ ），直到上升到 $v_{A} \geq v_{th}=\frac{v_{DD}}{2}$ （此时其实是**稍微**大于）此时，又由于**正反馈**，导致 $v_{o}$ 极速上升到 $v_{DD}$ （为逻辑 $1$ ）

![image.png|600](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20251007151904.png)

而此时，则是达到了**输入 $v_{i}$ 的门槛** $V_{T+}$ ，而这个门槛可以算出来。

$$
v_{A} = \frac{v_{DD}}{2} = \frac{R_{2}}{R_{1}+R_{2}}V_{T+}
$$
$$
V_{T+} = \left( 1+\frac{R_{1}}{R_{2}} \right)\cdot \frac{v_{DD}}{2}
$$
接下来， $v_{o}$ 就不是 $0$ 了，而是 $v_{o} = v_{DD}$ ，那么 $v_{A}$ 就受到两部分的影响。

$$
v_{A} = \frac{R_{2}}{R_{1}+R_{2}}v_{i} + \frac{R_{1}}{R_{1}+R_{2}}v_{DD}
$$
根据 $v_{i}$ 的变换曲线，他在经过门槛电压之后，先上升然后下降。

当 $v_{i}$ 又来到 $V_{T+}$ 的时候，由于受到 $v_{o}$ 的影响，所以并没有达到**变化的门槛**，输出 $v_{o}$ 依然是保持为逻辑 $1$ .

而随着 $v_{i}$ 的持续减小，就又会让 $v_{A} = \frac{V_{DD}}{2}$ ，达到临界值门槛 $V_{T-}$ （注意，此时本质上是）

$$
v_{A} = \frac{v_{DD}}{2} = \frac{R_{2}}{R_{1}+R_{2}}V_{T-} + \frac{R_{1}}{R_{1}+R_{2}}V_{DD}
$$
计算得到：

$$
V_{T-} = \left( 1-\frac{R_{1}}{R_{2}} \right)\cdot \frac{v_{DD}}{2}
$$
![image.png](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20251007154557.png)

这种特性的施密特触发器叫做**同向施密特触发器**

> [!important]
> **同向施密特触发器**：
> 
> 输入小的时候，输出为 $0$
> 
> 输入达到某一个比较大的数值的时候，输出为 $1$

可以画出它的**输入输出施密特传输特性**： 

![image.png|600](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20251007154812.png)

而反向施密特触发器的**输入输出传输特性**为：

![image.png|600](https://picture-typora.obs.cn-north-4.myhuaweicloud.com/images/20251007155525.png)


